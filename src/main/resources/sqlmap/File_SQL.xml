<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ebc.ecard.mapper.FileMapper">
	<insert id="saveFiles" parameterType="list" useGeneratedKeys="true" keyProperty="fileSeq">
		INSERT INTO files(file_id, `order`, file_name, file_path, ori_file_name, file_ext)
		VALUES
		<foreach collection="list" item="item" index="idx" separator=",">
			(#{item.fileId}, #{idx}, #{item.fileName}, #{item.filePath}, #{item.oriFileName}, REPLACE(#{item.fileExt}, '.', ''))
		</foreach>
	</insert>
</mapper>